<!DOCTYPE html>
<html>
  <head>
    <title>Test Experiment</title>
    <script src="https://unpkg.com/jspsych@7.2.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.1"></script>
    <link href="https://unpkg.com/jspsych@7.2.3/css/jspsych.css" rel="stylesheet" type="text/css" />
  </head>
  <body></body>
  <script>
    var jsPsych = initJsPsych();
    var timeline = [];

    var welcome = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: "Welcome to the experiment. Press the return or enter key to read the instructions.",
      choices: ['Enter']
    };
    timeline.push(welcome);

    var instructions = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: `
        <p style="width:600px;" >In this experiment, text will appear on the screen, and you will be asked to to predict the next word or the next few words. As shown in the image below, a sentence will appear with a "blank space" at the end. You can type your prediction for what is most likely in that blank space in the text box beneath, then push "Continue".</p>
        <img src="file:///Users/hannahnicolson/Desktop/Screenshot%202022-10-14%20at%203.10.20%20AM.png" style="width:400px;"></img>
        <p>Press the space key to begin.</p>
      `,
      choices: [' ', 'Spacebar'],
      //post_trial_gap: 50
    };
    timeline.push(instructions);


    var trial = { 
      type: jsPsychSurveyText,
      preamble:
        ` <div style="background-color: #1111; text-align:center; width: 600px; padding: 50px 50px 50px 50px;">
        <p>Our ability to perceive structure and predict future states in the world is a remarkable feat that evolution has bestowed _______</p>
        </div>
        `,
      
      // text taken from https://www.frontiersin.org/articles/10.3389/fpsyg.2012.00548/full 

      questions: [
        {prompt: 'What do you think the next word in this sentence is?', rows: 5}
      ]
    }
    timeline.push(trial);

    var test_stimuli = [
      { stimulus: "img/blue.png"},
      { stimulus: "img/orange.png"}
    ];

    var test_procedure = {
      timeline: [fixation, test],
      timeline_variables: test_stimuli
    }



    jsPsych.run(timeline);

  </script>
</html>
